# run as cwltool http://awslbdockstorestack-lb-1429770210.us-west-2.elb.amazonaws.com:9998/api/ga4gh/trs/v2/tools/%23workflow%2Fdockstore.org%2Fmike-gangl%2FSBG-unity-resample/versions/20/PLAIN-CWL/descriptor/%2Fworkflow.cwl sbg-resample-app.test.yml
{
  stage_in: {
                # if the downloads will come from a DAAC (e.g. requiring EDL auth) set to DAAC. If the files will be in the venue S3 bucket, set to 'S3'. Otherwise set to 'HTTP' and require no auth.
                download_type: 'S3',

                # file path, url, or STAC Content
  stac_json: '{"stac_version":"1.0.0","type":"FeatureCollection","features":[{"type":"Feature","stac_version":"1.0.0","id":"urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001","properties":{"datetime":"2024-03-20T22:47:09.457000Z","start_datetime":"2023-08-07T18:27:55Z","end_datetime":"2023-08-07T18:28:07Z","created":"2023-08-07T18:27:55Z","updated":"2024-03-20T22:47:19.715000Z","status":"completed","provider":"unity"},"geometry":{"type":"Point","coordinates":[0.0,0.0]},"links":[{"rel":"collection","href":"."},{"rel":"self","href":"https://dxebrgu0bc9w7.cloudfront.net/am-uds-dapa/collections/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/items/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001","type":"application/json","title":"urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001"}],"assets":{"SISTER_EMIT_L2A_CORFL_20230807T182755_001.cmr.xml":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001/SISTER_EMIT_L2A_CORFL_20230807T182755_001.cmr.xml","title":"SISTER_EMIT_L2A_CORFL_20230807T182755_001.cmr.xml","description":"size=1765;checksumType=md5;checksum=7501b07ff192f739cc41eb079219fe26;","roles":["metadata"]},"SISTER_EMIT_L2A_CORFL_20230807T182755_001.json":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001/SISTER_EMIT_L2A_CORFL_20230807T182755_001.json","title":"SISTER_EMIT_L2A_CORFL_20230807T182755_001.json","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["metadata"]},"SISTER_EMIT_L2A_CORFL_20230807T182755_001.png":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001/SISTER_EMIT_L2A_CORFL_20230807T182755_001.png","title":"SISTER_EMIT_L2A_CORFL_20230807T182755_001.png","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["browse"]},"SISTER_EMIT_L2A_CORFL_20230807T182755_001.hdr":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001/SISTER_EMIT_L2A_CORFL_20230807T182755_001.hdr","title":"SISTER_EMIT_L2A_CORFL_20230807T182755_001.hdr","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["data"]},"SISTER_EMIT_L2A_CORFL_20230807T182755_001.bin":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1:SISTER_EMIT_L2A_CORFL_20230807T182755_001/SISTER_EMIT_L2A_CORFL_20230807T182755_001.bin","title":"SISTER_EMIT_L2A_CORFL_20230807T182755_001.bin","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["data"]}},"bbox":[-180.0,-90.0,180.0,90.0],"stac_extensions":[],"collection":"urn:nasa:unity:unity:test:SBG-L2A_CORFL___1"},{"type":"Feature","stac_version":"1.0.0","id":"urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001","properties":{"Description":"This catalog contains the output data products of the SISTER fractional cover PGE, including a fractional cover cloud-optimized GeoTIFF. Execution artifacts including the runconfig file and execution log file are included with the fractional cover data.","soil":{"0.0":0.0,"0.1":0.0,"0.2":0.0,"0.3":0.0,"0.4":0.0,"0.5":0.0,"0.6":0.0,"0.7":0.0,"0.8":0.0,"0.9":0.0,"1.0":0.0},"vegetation":{"0.0":0.0,"0.1":0.0,"0.2":0.0,"0.3":0.0,"0.4":0.0,"0.5":0.0,"0.6":0.0,"0.7":0.0,"0.8":0.0,"0.9":0.0,"1.0":0.0},"water":{"0.0":0.0,"0.1":0.0,"0.2":0.0,"0.3":0.0,"0.4":0.0,"0.5":0.0,"0.6":0.0,"0.7":0.0,"0.8":0.0,"0.9":0.0,"1.0":0.0},"snow_ice":{"0.0":1862737.0,"0.1":0.0,"0.2":0.0,"0.3":0.0,"0.4":0.0,"0.5":0.0,"0.6":0.0,"0.7":0.0,"0.8":0.0,"0.9":0.0,"1.0":0.0},"datetime":"2024-03-19T04:54:33.703000Z","start_datetime":"2023-08-07T18:27:55Z","end_datetime":"2023-08-07T18:28:07Z","created":"2023-08-07T18:27:55Z","updated":"2024-03-19T04:55:14.767000Z","status":"completed","provider":"unity"},"geometry":{"type":"Point","coordinates":[0.0,0.0]},"links":[{"rel":"collection","href":"."},{"rel":"self","href":"https://dxebrgu0bc9w7.cloudfront.net/am-uds-dapa/collections/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/items/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001","type":"application/json","title":"urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001"}],"assets":{"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.cmr.xml":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001/SISTER_EMIT_L2B_FRCOV_20230807T182755_001.cmr.xml","title":"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.cmr.xml","description":"size=1766;checksumType=md5;checksum=bd1eec65627f63e998113952c3778f6d;","roles":["metadata"]},"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.json":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001/SISTER_EMIT_L2B_FRCOV_20230807T182755_001.json","title":"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.json","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["metadata"]},"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.tif":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001/SISTER_EMIT_L2B_FRCOV_20230807T182755_001.tif","title":"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.tif","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["data"]},"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.log":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001/SISTER_EMIT_L2B_FRCOV_20230807T182755_001.log","title":"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.log","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["metadata"]},"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.png":{"href":"s3://sps-test-ds-storage/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1/urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1:SISTER_EMIT_L2B_FRCOV_20230807T182755_001/SISTER_EMIT_L2B_FRCOV_20230807T182755_001.png","title":"SISTER_EMIT_L2B_FRCOV_20230807T182755_001.png","description":"size=-1;checksumType=md5;checksum=unknown;","roles":["browse"]}},"bbox":[-180.0,-90.0,180.0,90.0],"stac_extensions":[],"collection":"urn:nasa:unity:unity:test:SBG-L2B_FRCOV___1"}]}',

                  #stac_json: 'https://dxebrgu0bc9w7.cloudfront.net/am-uds-dapa/collections/urn:nasa:unity:unity:test:SBG-L2A_CORFL___1/items?filter%3Dstart_datetime%20%3E%3D%20%272023-08-07T18%3A27%3A55Z%27%20AND%20start_datetime%20%3C%3D%20%272023-08-07T18%3A27%3A55Z%27',

                  # To enable downloading from CMR, we need to set "downloading_roles" to blank since it's not supported in CMR. We set keys to data and data1 since those are the keys that CMR uses for multiple data files.
                downloading_roles: 'data, metadata',

                  # the client id for generating a token
                unity_client_id: '71894molftjtie4dvvkbjeard0',
                  # because we do not need to be authoirzed to 'GET' the earthdata stac, set this to 'NONE'. Set this to 'NITY' if the stac_json is a unity entry
                unity_stac_auth: 'NONE'
          },
parameters: {
                crid: '001',
                temp_work_dir: '/tmp',
                output_collection: 'urn:nasa:unity:unity:test:SBG-L2B_VEGBIOCHEM___1',
                experimental: False
          },
stage_out: {
                collection_id: 'urn:nasa:unity:unity:test:SBG-L2B_VEGBIOCHEM___1',
                staging_bucket: 'sps-test-ds-storage'
          }
}
